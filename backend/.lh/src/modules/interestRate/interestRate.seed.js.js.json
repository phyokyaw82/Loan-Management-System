{
    "sourceFile": "src/modules/interestRate/interestRate.seed.js.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1770615032591,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1770615032591,
            "name": "Commit-0",
            "content": "import InterestRate from \"./interestRate.model.js\";\r\n\r\nconst DEFAULT_RATES = [5, 10, 15, 20];\r\n\r\nconst seedInterestRates = async () => {\r\n    try {\r\n        const existingRates = await InterestRate.find({\r\n            rate: { $in: DEFAULT_RATES },\r\n        });\r\n\r\n        const existingValues = existingRates.map(r => r.rate);\r\n\r\n        const ratesToInsert = DEFAULT_RATES\r\n            .filter(rate => !existingValues.includes(rate))\r\n            .map(rate => ({ rate }));\r\n\r\n        if (ratesToInsert.length > 0) {\r\n            await InterestRate.insertMany(ratesToInsert);\r\n            console.log(\"✅ Interest rates seeded:\", ratesToInsert.map(r => r.rate));\r\n        } else {\r\n            console.log(\"ℹ️ Interest rates already exist\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"❌ Interest rate seeding failed:\", error);\r\n    }\r\n};\r\n\r\nexport default seedInterestRates;\r\n"
        }
    ]
}